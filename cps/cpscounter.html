<!DOCTYPE html>
<html lang="en-US">
    <head>
        <title>Clicks per Second Counter</title>
        <link rel="stylesheet" href="cpsstyle.css">
    </head>

    <body>
        <div class="center" id="body-div">
            <h1>Mac Armstrong</h1>
            <h3>Clicks per Second Counter</h3>
            <h4>1/20/22</h4>
            <hr>
            <p>
                As soon as you click start, a timer will start and you will then have to click
                as fast as you can to get the best possible score in 5 seconds
            </p>
            <p><button id="startb" onclick="start()">Start</button></p>
            <button id="clicksb" type="button" onclick="count()" class="rbutton" disabled=true>Click Me!</button>
            <p id="countdown">
                <b>Timer: 5</b>
                <br>
            </p>
            <p id="ccount">
                <b>CPS: 0</b>
            </p>
            <p>
                <button type="button" style="width: 50px; height: 50px; " onclick="DM()">Dark Mode</button>
                <a href="cpscounter.html">
                <button type="button" style="width: 75px; height: 50px;">Go<br>Again</button></a>
            </p>
            <script>

                const startsec = 5;
                let time = startsec;
                let timerEnded = false;
                const countdownEl = document.getElementById('countdown');
                function start(){
                    
                    setTimeout(function(){
                        timerEnded = true;
                        alert("time's up!")},
                        time * 1000);
                    
                    if(!timerEnded){
                        document.getElementById('startb').disabled = true;
                        document.getElementById('clicksb').disabled = false;
                    }

                    const seconds = Math.floor(time);

                    while(seconds != 0){
                        seconds--;
                    }
                    countdownEl.innerHTML('Timer: ' + seconds);
                    time--;

                    
                }


                const cspEl = document.getElementById('ccount');
                var clicks = 0;
                function count(){
                    clicks += 1;
                    document.getElementById('clicksb').innerHTML = clicks;

                    cspEl.innerHTML = ('CPS: ' + (clicks / 5));
                }


                function DM() {
                    var element = document.body;
                    element.classList.toggle("dark-mode-i");
                    document.getElementById("body-div").classList.toggle("dark-mode-b");
                }   
            </script>
        </div>
        </body>
</html>

<!-- TO DO 

    TIMER 
    X COUNT CLICKS
    STOP WHEN TIMER ENDS
    X DARK MODE
    CALCULATE CPS

-->
